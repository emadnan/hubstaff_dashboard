"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1915],{61915:function(e,t,n){n.r(t);var r=n(29439),s=n(72791),i=n(78983),c=n(86675),o=n(77128),a=n(87309),l=n(72426),d=n.n(l),h=n(80184);t.default=function(){var e=JSON.parse(localStorage.getItem("user-info")),t=JSON.parse(sessionStorage.getItem("user-info")).token;(0,s.useEffect)((function(){fetch("http://10.3.3.80/api/getSum",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){X(e.hours),ee(e.minutes),se(e.seconds)})).catch((function(e){return console.log(e)}))}),[]);var n={color:"white",backgroundColor:"#0070FF ",padding:"15px",fontFamily:"Arial",textAlign:"center",alignSelf:"flex-end"},l={backgroundColor:"white ",padding:"15px",fontFamily:"Arial",fontSize:14,textAlign:"center",alignSelf:"flex-end"},m={width:"100%",backgroundColor:"#FFFFFF "},x={color:"#6E6E6E",fontSize:14},u={color:"#28B463"},p={fontFamily:"Arial",fontSize:20,fontWeight:"bold",color:"#0070FF "},f=(0,s.useState)([]),j=(0,r.Z)(f,2),g=j[0],y=j[1],S=(0,s.useState)([]),N=(0,r.Z)(S,2),b=N[0],v=N[1],Z=(0,s.useState)([]),_=(0,r.Z)(Z,2),w=_[0],T=_[1],U=(0,s.useState)([]),E=(0,r.Z)(U,2),O=(E[0],E[1]),z=(0,s.useState)([]),C=(0,r.Z)(z,2),k=(C[0],C[1]),A=(0,s.useState)([]),P=(0,r.Z)(A,2),D=P[0],I=P[1],W=(0,s.useState)(""),F=(0,r.Z)(W,2),M=(F[0],F[1]),R=(0,s.useState)(""),V=(0,r.Z)(R,2),B=(V[0],V[1]),Y=(0,s.useState)(""),G=(0,r.Z)(Y,2),H=(G[0],G[1]),J=(0,s.useState)(""),L=(0,r.Z)(J,2),K=L[0],X=L[1],q=(0,s.useState)(""),Q=(0,r.Z)(q,2),$=Q[0],ee=Q[1],te=(0,s.useState)(""),ne=(0,r.Z)(te,2),re=ne[0],se=ne[1],ie=(0,s.useState)(""),ce=(0,r.Z)(ie,2),oe=ce[0],ae=ce[1],le=(0,s.useState)(""),de=(0,r.Z)(le,2),he=de[0],me=de[1],xe=(0,s.useState)(""),ue=(0,r.Z)(xe,2),pe=ue[0],fe=ue[1],je=(0,s.useState)(""),ge=(0,r.Z)(je,2),ye=ge[0],Se=ge[1],Ne=(0,s.useState)(""),be=(0,r.Z)(Ne,2),ve=be[0],Ze=be[1],_e=[],we=[];return(0,s.useEffect)((function(){fetch("http://10.3.3.80/api/getcompany").then((function(e){return e.json()})).then((function(t){1===e.Users.role?we=t.companies:3===e.Users.role?we=t.companies.filter((function(t){return t.id===e.Users.company_id})):5!==e.Users.role&&6!==e.Users.role&&7!==e.Users.role||(we=t.companies.filter((function(t){return t.id===e.Users.company_id}))),y(we)})).catch((function(e){return console.log(e)})),fetch("http://10.3.3.80/api/getproject").then((function(e){return e.json()})).then((function(t){1===e.Users.role?we=t.projects:3===e.Users.role&&(we=t.projects.filter((function(t){return t.company_id===e.Users.company_id}))),v(we),me(we.length)})).catch((function(e){return console.log(e)})),fetch("http://10.3.3.80/api/getdepartment").then((function(e){return e.json()})).then((function(t){1===e.Users.role?we=t.Departments:3===e.Users.role&&(we=t.Departments.filter((function(t){return t.company_id===e.Users.company_id}))),T(we)})).catch((function(e){return console.log(e)})),fetch("http://10.3.3.80/api/get_client").then((function(e){return e.json()})).then((function(e){return O(e.Departments)})).catch((function(e){return console.log(e)})),fetch("http://10.3.3.80/api/get_Project_Screenshots").then((function(e){return e.json()})).then((function(e){M(e.TotalHours),B(e.TotalMinutes),H(e.TotalSeconds)})).catch((function(e){return console.log(e)})),fetch("http://10.3.3.80/api/get_Project_Screenshots").then((function(e){return e.json()})).then((function(t){_e=1===e.Users.role?t.projectscreenshot:3===e.Users.role?t.projectscreenshot.filter((function(t){return t.company_id===e.Users.company_id})):t.projectscreenshot.filter((function(t){return t.user_id===e.Users.user_id})),k(_e)})).catch((function(e){return console.log(e)})),fetch("http://10.3.3.80/api/get_assign_projects").then((function(e){return e.json()})).then((function(t){1===e.Users.role?we=t.Project_Assigns:3===e.Users.role?we=t.Project_Assigns.filter((function(t){return t.company_id===e.Users.company_id})):5!==e.Users.role&&6!==e.Users.role&&7!==e.Users.role||(we=t.Project_Assigns.filter((function(t){return t.assign_projects_user_id===e.Users.user_id}))),I(we),ae(we.length)})).catch((function(e){return console.log(e)})),fetch("http://10.3.3.80/api/calculateWeeklyWork",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){fe(e.hours),Se(e.minutes),Ze(e.seconds)})).catch((function(e){return console.log(e)}))}),[]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-md-4",children:3===e.Users.role?(0,h.jsx)("h4",{style:p,children:"Dashboard"}):(0,h.jsx)("h4",{style:p,children:e.Users.name})})}),(0,h.jsx)(c.Z,{style:{width:"100%"},children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md-2",children:[(0,h.jsx)("h6",{style:x,children:"TOTAL PROJECTS"}),(0,h.jsx)("h3",{style:u,children:3===e.Users.role?he:oe})]}),(0,h.jsxs)("div",{className:"col-md-2",children:[(0,h.jsx)("h6",{style:x,children:"TODAY ACTIVITY"}),(0,h.jsx)("h3",{style:u,children:"0%"})]}),(0,h.jsxs)("div",{className:"col-md-2",children:[(0,h.jsx)("h6",{style:x,children:"TODAY WORKED"}),(0,h.jsxs)("h3",{style:u,children:[K,":",$,":",re]})]}),(0,h.jsxs)("div",{className:"col-md-2",children:[(0,h.jsx)("h6",{style:x,children:"WEEKLY ACTIVITY"}),(0,h.jsx)("h3",{style:u,children:"0%"})]}),(0,h.jsxs)("div",{className:"col-md-2",children:[(0,h.jsx)("h6",{style:x,children:"WORKED THIS WEEK"}),(0,h.jsxs)("h3",{style:u,children:[pe,":",ye,":",ve]})]}),(0,h.jsxs)("div",{className:"col-md-2",children:[(0,h.jsx)("h6",{style:x,children:"EARNED AMOUNT"}),(0,h.jsx)("h3",{style:u,children:"-"})]})]})}),(0,h.jsx)("br",{}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md-6",children:[(0,h.jsxs)(c.Z,{style:m,children:[(0,h.jsx)("h5",{style:x,children:"COMPANIES"}),(0,h.jsxs)(i.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,style:{marginTop:"20px"},children:[(0,h.jsxs)(i.V,{color:"light",children:[(0,h.jsxs)(i.T6,{children:[(0,h.jsx)(i.is,{className:"text-center",style:n,children:"Company Name"}),(0,h.jsx)(i.is,{className:"text-center",style:n,children:"Company Email"}),(0,h.jsx)(i.is,{className:"text-center",style:n,children:"City"})]}),g.slice(0,3).map((function(e){return(0,h.jsxs)(i.T6,{children:[(0,h.jsx)(i.is,{className:"text-center",style:l,children:e.company_name}),(0,h.jsx)(i.is,{className:"text-center",style:l,children:e.company_email}),(0,h.jsx)(i.is,{className:"text-center",style:l,children:e.city})]},e.id)}))]}),(0,h.jsx)(i.NR,{})]}),(0,h.jsx)(o.Z,{}),(0,h.jsx)("div",{className:"text-center",children:(0,h.jsx)(a.ZP,{type:"link",href:"/companies/Companies",children:"View companies >"})})]}),(0,h.jsx)("br",{}),1===e.Users.role||3===e.Users.role?(0,h.jsxs)(c.Z,{style:m,children:[(0,h.jsx)("h5",{style:x,children:"DEPARTMENTS"}),(0,h.jsxs)(i.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,style:{marginTop:"20px"},children:[(0,h.jsxs)(i.V,{color:"light",children:[(0,h.jsxs)(i.T6,{children:[(0,h.jsx)(i.is,{className:"text-center",style:n,children:"Department Name"}),(0,h.jsx)(i.is,{className:"text-center",style:n,children:"Company"})]}),w.slice(0,3).map((function(e){return(0,h.jsxs)(i.T6,{children:[(0,h.jsx)(i.is,{className:"text-center",style:l,children:e.department_name}),(0,h.jsx)(i.is,{className:"text-center",style:l,children:e.company_name})]},e.id)}))]}),(0,h.jsx)(i.NR,{})]}),(0,h.jsx)(o.Z,{}),(0,h.jsx)("div",{className:"text-center",children:(0,h.jsx)(a.ZP,{type:"link",href:"/departments/Departments",children:"View departments >"})})]}):null]}),(0,h.jsxs)("div",{className:"col-md-6",children:[1===e.Users.role||3===e.Users.role&&(0,h.jsxs)(c.Z,{style:m,children:[(0,h.jsx)("h5",{style:x,children:"PROJECTS"}),(0,h.jsxs)(i.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,style:{marginTop:"20px"},children:[(0,h.jsxs)(i.V,{color:"light",children:[(0,h.jsxs)(i.T6,{children:[(0,h.jsx)(i.is,{className:"text-center",style:n,children:"Project"}),(0,h.jsx)(i.is,{className:"text-center",style:n,children:"Start Date"})]}),b.slice(0,4).map((function(e){var t=d()(e.start_date).format("DD-MM-YYYY");return(0,h.jsxs)(i.T6,{children:[(0,h.jsx)(i.is,{className:"text-center",style:l,children:e.project_name}),(0,h.jsx)(i.is,{className:"text-center",style:l,children:t})]},e.id)}))]}),(0,h.jsx)(i.NR,{})]}),(0,h.jsx)(o.Z,{}),(0,h.jsx)("div",{className:"text-center",children:(0,h.jsx)(a.ZP,{type:"link",href:"/projectmanagement/projects",children:"View projects >"})})]}),(0,h.jsxs)(c.Z,{style:m,children:[(0,h.jsx)("h5",{style:x,children:"ASSIGNED PROJECTS"}),(0,h.jsxs)(i.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,style:{marginTop:"20px"},children:[(0,h.jsxs)(i.V,{color:"light",children:[(0,h.jsxs)(i.T6,{children:[(0,h.jsx)(i.is,{className:"text-center",style:n,children:"Project Name"}),(0,h.jsx)(i.is,{className:"text-center",style:n,children:"Stream Name"})]}),D.slice(0,4).map((function(e){return(0,h.jsxs)(i.T6,{children:[(0,h.jsx)(i.is,{className:"text-center",style:l,children:e.project_name}),(0,h.jsx)(i.is,{className:"text-center",style:l,children:e.stream_name})]},e.id)}))]}),(0,h.jsx)(i.NR,{})]}),(0,h.jsx)(o.Z,{}),(0,h.jsx)("div",{className:"text-center",children:(0,h.jsx)(a.ZP,{type:"link",href:"/projectmanagement/assigned",children:"View assigned projects >"})})]}),(0,h.jsx)("br",{})]})]})]})}},77128:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(4942),s=n(29439),i=n(81694),c=n.n(i),o=n(72791),a=n(71929),l=n(55564),d=n(89922),h=n(67521),m=function(e){var t,n=e.componentCls,s=e.sizePaddingEdgeHorizontal,i=e.colorSplit,c=e.lineWidth;return(0,r.Z)({},n,Object.assign(Object.assign({},(0,h.Wf)(e)),(t={borderBlockStart:"".concat(c,"px solid ").concat(i),"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:"0 ".concat(e.dividerVerticalGutterMargin,"px"),verticalAlign:"middle",borderTop:0,borderInlineStart:"".concat(c,"px solid ").concat(i)},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:"".concat(e.dividerHorizontalGutterMargin,"px 0")}},(0,r.Z)(t,"&-horizontal".concat(n,"-with-text"),{display:"flex",alignItems:"center",margin:"".concat(e.dividerHorizontalWithTextGutterMargin,"px 0"),color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:"0 ".concat(i),"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:"".concat(c,"px solid transparent"),borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}}),(0,r.Z)(t,"&-horizontal".concat(n,"-with-text-left"),{"&::before":{width:"5%"},"&::after":{width:"95%"}}),(0,r.Z)(t,"&-horizontal".concat(n,"-with-text-right"),{"&::before":{width:"95%"},"&::after":{width:"5%"}}),(0,r.Z)(t,"".concat(n,"-inner-text"),{display:"inline-block",padding:"0 1em"}),(0,r.Z)(t,"&-dashed",{background:"none",borderColor:i,borderStyle:"dashed",borderWidth:"".concat(c,"px 0 0")}),(0,r.Z)(t,"&-horizontal".concat(n,"-with-text").concat(n,"-dashed"),{"&::before, &::after":{borderStyle:"dashed none none"}}),(0,r.Z)(t,"&-vertical".concat(n,"-dashed"),{borderInlineStart:c,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0}),(0,r.Z)(t,"&-plain".concat(n,"-with-text"),{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize}),(0,r.Z)(t,"&-horizontal".concat(n,"-with-text-left").concat(n,"-no-default-orientation-margin-left"),(0,r.Z)({"&::before":{width:0},"&::after":{width:"100%"}},"".concat(n,"-inner-text"),{paddingInlineStart:s})),(0,r.Z)(t,"&-horizontal".concat(n,"-with-text-right").concat(n,"-no-default-orientation-margin-right"),(0,r.Z)({"&::before":{width:"100%"},"&::after":{width:0}},"".concat(n,"-inner-text"),{paddingInlineEnd:s})),t)))},x=(0,l.Z)("Divider",(function(e){var t=(0,d.TS)(e,{dividerVerticalGutterMargin:e.marginXS,dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG});return[m(t)]}),{sizePaddingEdgeHorizontal:0}),u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};var p=function(e){var t,n=o.useContext(a.E_),i=n.getPrefixCls,l=n.direction,d=e.prefixCls,h=e.type,m=void 0===h?"horizontal":h,p=e.orientation,f=void 0===p?"center":p,j=e.orientationMargin,g=e.className,y=e.rootClassName,S=e.children,N=e.dashed,b=e.plain,v=u(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain"]),Z=i("divider",d),_=x(Z),w=(0,s.Z)(_,2),T=w[0],U=w[1],E=f.length>0?"-".concat(f):f,O=!!S,z="left"===f&&null!=j,C="right"===f&&null!=j,k=c()(Z,U,"".concat(Z,"-").concat(m),(t={},(0,r.Z)(t,"".concat(Z,"-with-text"),O),(0,r.Z)(t,"".concat(Z,"-with-text").concat(E),O),(0,r.Z)(t,"".concat(Z,"-dashed"),!!N),(0,r.Z)(t,"".concat(Z,"-plain"),!!b),(0,r.Z)(t,"".concat(Z,"-rtl"),"rtl"===l),(0,r.Z)(t,"".concat(Z,"-no-default-orientation-margin-left"),z),(0,r.Z)(t,"".concat(Z,"-no-default-orientation-margin-right"),C),t),g,y),A=Object.assign(Object.assign({},z&&{marginLeft:j}),C&&{marginRight:j});return T(o.createElement("div",Object.assign({className:k},v,{role:"separator"}),S&&"vertical"!==m&&o.createElement("span",{className:"".concat(Z,"-inner-text"),style:A},S)))}}}]);
//# sourceMappingURL=1915.7859e055.chunk.js.map