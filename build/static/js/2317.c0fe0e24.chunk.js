"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2317],{42317:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var r=t(74165),a=t(15861),s=t(4942),i=t(1413),l=t(29439),o=t(72791),d=t(4708),c=t(68870),x=t(91614),m=t(35527),u=t(70242),h=t(74512),p=t(15825),Z=t(36151),j=t(20890),g=t(67107),f=t(1701),v=t(61889),P=t(73232),y=t(3746),b=t(20165),C=t(63466),w=t(13400),S=t(80184);function E(e){var n=e.handleSignUpFormChange,t=(0,o.useState)(""),r=(0,l.Z)(t,2),a=r[0],s=r[1],i=(0,o.useState)(""),d=(0,l.Z)(i,2),c=d[0],x=d[1],m=(0,o.useState)(""),u=(0,l.Z)(m,2),h=u[0],p=u[1],Z=(0,o.useState)(!1),g=(0,l.Z)(Z,2),f=g[0],E=g[1],k=(0,o.useState)(""),_=(0,l.Z)(k,2),F=_[0],X=_[1],W=(0,o.useState)(!1),A=(0,l.Z)(W,2),B=A[0],D=A[1];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(j.Z,{variant:"h6",gutterBottom:!0,children:"Register Your Company"}),(0,S.jsxs)(v.ZP,{container:!0,spacing:3,children:[(0,S.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(P.Z,{required:!0,id:"name",type:"text",name:"name",value:a,onChange:function(e){s(e.target.value),n("name",e.target.value)},label:"Enter Your Company Name",fullWidth:!0,autoComplete:"given-name",variant:"standard"})}),(0,S.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(P.Z,{required:!0,id:"email",type:"email",name:"email",value:c,onChange:function(e){x(e.target.value),n("email",e.target.value)},label:"Enter Your Company Email",fullWidth:!0,autoComplete:"family-name",variant:"standard"})}),(0,S.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(P.Z,{required:!0,id:"input-password",label:"Enter Your Password",variant:"standard",name:"password",type:f?"text":"password",value:h,onChange:function(e){p(e.target.value),n("password",e.target.value)},placeholder:"Please Enter Password",InputProps:{endAdornment:(0,S.jsx)(C.Z,{position:"end",children:(0,S.jsx)(w.Z,{onClick:function(){return E(!f)},edge:"end",children:f?(0,S.jsx)(b.Z,{}):(0,S.jsx)(y.Z,{})})})},sx:{width:"100%"}})}),(0,S.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(P.Z,{required:!0,id:"input-confirmPassword",label:"Confirm Password",variant:"standard",name:"confirmPassword",type:B?"text":"password",value:F,onChange:function(e){X(e.target.value),n("confirmPassword",e.target.value)},placeholder:"Please Confirm Password",InputProps:{endAdornment:(0,S.jsx)(C.Z,{position:"end",children:(0,S.jsx)(w.Z,{onClick:function(){return D(!B)},edge:"end",children:B?(0,S.jsx)(b.Z,{}):(0,S.jsx)(y.Z,{})})})},sx:{width:"100%"}})})]})]})}var k=t(65764);function _(e){var n=e.handlePaymentFormChange;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(j.Z,{variant:"h6",gutterBottom:!0,children:"Payment method"}),(0,S.jsxs)(v.ZP,{container:!0,spacing:3,children:[(0,S.jsxs)(v.ZP,{item:!0,xs:12,md:5,children:[(0,S.jsx)("label",{htmlFor:"card-number",children:"Enter Card Number:"}),(0,S.jsx)(k.CardNumberElement,{id:"card-number",options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},onChange:n})]}),(0,S.jsxs)(v.ZP,{item:!0,xs:12,md:4,children:[(0,S.jsx)("label",{htmlFor:"card-expiry",children:"Enter Expiry Date:"}),(0,S.jsx)(k.CardExpiryElement,{id:"card-expiry",options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},onChange:n})]}),(0,S.jsxs)(v.ZP,{item:!0,xs:12,md:3,children:[(0,S.jsx)("label",{htmlFor:"card-cvc",children:"Enter CVC:"}),(0,S.jsx)(k.CardCvcElement,{id:"card-cvc",options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},onChange:n})]})]})]})}var F=t(90493),X=t(84852),W=t(36259);function A(e){var n=e.paymentDetails,t=e.selectedPlanTitle,r=e.selectedPlanAmount,a=n.card,s=a.brand.charAt(0).toUpperCase()+a.brand.slice(1);return(0,S.jsxs)(o.Fragment,{children:[(0,S.jsx)(j.Z,{variant:"h6",gutterBottom:!0,children:"Review Your Selected Plan"}),(0,S.jsxs)(F.Z,{disablePadding:!0,children:[(0,S.jsxs)(X.ZP,{sx:{py:1,px:0},children:[(0,S.jsx)(W.Z,{primary:"Your Selected Plan: "}),(0,S.jsx)(j.Z,{variant:"subtitle1",sx:{fontWeight:700},children:t})]}),(0,S.jsxs)(X.ZP,{sx:{py:1,px:0},children:[(0,S.jsx)(W.Z,{primary:"Total Ammount: "}),(0,S.jsxs)(j.Z,{variant:"subtitle1",sx:{fontWeight:700},children:["$ ",r]})]})]}),(0,S.jsx)(j.Z,{variant:"h6",gutterBottom:!0,children:"Payment details"}),(0,S.jsxs)(F.Z,{disablePadding:!0,children:[(0,S.jsxs)(X.ZP,{sx:{py:1,px:0},children:[(0,S.jsx)(W.Z,{primary:"Card Brand:"})," ",(0,S.jsx)(j.Z,{variant:"subtitle1",sx:{fontWeight:700},children:s})]}),(0,S.jsxs)(X.ZP,{sx:{py:1,px:0},children:[(0,S.jsx)(W.Z,{primary:"Expiry Date:"})," ",(0,S.jsxs)(j.Z,{variant:"subtitle1",sx:{fontWeight:700},children:[a.exp_month,"/",a.exp_year]})]}),(0,S.jsxs)(X.ZP,{sx:{py:1,px:0},children:[(0,S.jsx)(W.Z,{primary:"Last 4 digits of Card:"})," ",(0,S.jsxs)(j.Z,{variant:"subtitle1",sx:{fontWeight:700},children:["XXXX XXXX XXXX ",a.last4]})]})]})]})}var B=t(31243),D=["Sign Up","Payment Details","Review"];function N(e,n,t,r,a,s){switch(e){case 0:return(0,S.jsx)(E,{handleSignUpFormChange:n});case 1:return(0,S.jsx)(_,{handlePaymentFormChange:t});case 2:return(0,S.jsx)(A,{paymentDetails:r,selectedPlanTitle:a,selectedPlanAmount:s});default:throw new Error("Unknown step")}}var T=(0,g.Z)();var U=function(e){var n=e.selectedPlanTitle,t=e.selectedPlanAmount,g=(0,o.useState)(),v=(0,l.Z)(g,2),P=v[0],y=v[1],b=(0,k.useStripe)(),C=(0,k.useElements)(),w=(0,o.useState)(0),E=(0,l.Z)(w,2),_=E[0],F=E[1],X=(0,o.useState)({name:"",email:"",password:"",confirmPassword:""}),W=(0,l.Z)(X,2),A=W[0],U=W[1],Y=(0,o.useState)(),M=(0,l.Z)(Y,2),q=M[0],I=M[1],R=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,a,s,i,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==_){e.next=6;break}n={name:A.name,email:A.email,password:A.password,confirmPassword:A.confirmPassword},console.log("signUpFormValues : ",n),F(_+1),e.next=30;break;case 6:if(1!==_){e.next=17;break}return e.next=9,b.createPaymentMethod({type:"card",card:q});case 9:a=e.sent,s=a.error,i=a.paymentMethod,y(i),s?console.log("[error]",s):console.log("[PaymentMethod]",i),F(_+1),e.next=30;break;case 17:if(2!==_){e.next=30;break}return e.prev=18,l=P.id,e.next=22,B.Z.post("http://localhost:4000/payment",{amount:t,id:l});case 22:e.sent.data.success&&console.log("Successful Payment"),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(18),console.log(e.t0);case 29:F(_+1);case 30:case"end":return e.stop()}}),e,null,[[18,26]])})));return function(){return e.apply(this,arguments)}}();return(0,S.jsxs)(f.Z,{theme:T,children:[(0,S.jsx)(d.ZP,{}),(0,S.jsx)(x.Z,{component:"main",maxWidth:"sm",sx:{mb:4},children:(0,S.jsxs)(m.Z,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[(0,S.jsx)(j.Z,{component:"h1",variant:"h4",align:"center",children:"PRICING"}),(0,S.jsx)(u.Z,{activeStep:_,sx:{pt:3,pb:5},children:D.map((function(e){return(0,S.jsx)(h.Z,{children:(0,S.jsx)(p.Z,{children:e})},e)}))}),_===D.length?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(j.Z,{variant:"h5",gutterBottom:!0,children:"Thank you Messege for Subscribing Plan"}),(0,S.jsx)(j.Z,{variant:"subtitle1",children:"Thank you Messege for Subscribing Plan"})]}):(0,S.jsxs)(S.Fragment,{children:[N(_,(function(e,n){U((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,s.Z)({},e,n))}))}),(function(){var e=C.getElement(k.CardCvcElement,k.CardExpiryElement,k.CardNumberElement);I(e)}),P,n,t),(0,S.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[0!==_&&(0,S.jsx)(Z.Z,{onClick:function(){F(_-1)},sx:{mt:3,ml:1},children:"Back"}),(0,S.jsx)(Z.Z,{variant:"contained",onClick:R,sx:{mt:3,ml:1},children:_===D.length-1?"Done":"Next"})]})]})]})})]})}}}]);
//# sourceMappingURL=2317.c0fe0e24.chunk.js.map