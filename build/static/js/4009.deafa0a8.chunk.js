"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4009],{64009:function(e,n,t){t.r(n);var s=t(74165),a=t(15861),r=t(4942),i=t(1413),o=t(29439),c=t(72791),l=t(57689),u=t(4708),d=t(35527),m=t(19658),f=t(67107),x=t(1701),h=t(3746),p=t(20165),v=t(85901),Z=t(79930),j=t(65242),g=t(75335),y=t(61889),w=t(68870),C=t(20890),b=t(73232),k=t(63466),z=t(13400),P=t(36151),S=t(80184),E="http://10.3.3.80",V=(0,f.Z)();n.default=function(){var e=(0,c.useState)(""),n=(0,o.Z)(e,2),t=n[0],f=n[1],H=(0,c.useState)(""),_=(0,o.Z)(H,2),T=_[0],I=_[1],N=(0,c.useState)(""),M=(0,o.Z)(N,2),q=M[0],F=M[1],L=(0,c.useState)(""),O=(0,o.Z)(L,2),R=O[0],A=O[1],J=(0,c.useState)(!1),B=(0,o.Z)(J,2),D=B[0],U=B[1],W=(0,c.useState)(!1),X=(0,o.Z)(W,2),G=X[0],K=X[1],Q=(0,l.s0)(),Y=(0,c.useState)({name:"",email:"",password:"",confirmpass:""}),$=(0,o.Z)(Y,2),ee=$[0],ne=$[1],te=function(e){var n=e.target.name;ne((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n,""))}))},se={position:"fixed",top:"85%",left:"80%",transform:"translateX(-50%)"};function ae(){return(ae=(0,a.Z)((0,s.Z)().mark((function e(){var n,r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t||(n.name="Company Name is required"),q||(n.email="Email is required"),T||(n.password="Password is required"),R||(n.confirmpass="Confirmation of Password is required"),T&&R&&T!==R?n.confirmpass="Passwords do not match":T&&R&&T===R&&T.length<8&&(n.confirmpass="Passwords must be upto 8 digits"),ne(n),r={name:t,email:q,password:T,confirmpass:R,role:3},e.prev=8,e.next=11,fetch("".concat(E,"/api/register"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 11:if(400!==(i=e.sent).status){e.next=16;break}ce(!0),e.next=26;break;case 16:if(404!==i.status){e.next=20;break}pe(!0),e.next=26;break;case 20:return e.next=22,i.json();case 22:o=e.sent,localStorage.setItem("user-info",JSON.stringify(o)),me(!0),setTimeout((0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("/login");case 2:case"end":return e.stop()}}),e)}))),2e3);case 26:e.next=33;break;case 28:e.prev=28,e.t0=e.catch(8),console.log("Jahanzaib Baig"),console.error(e.t0),0===Object.keys(n).length&&ge(!0);case 33:case"end":return e.stop()}}),e,null,[[8,28]])})))).apply(this,arguments)}var re=(0,c.useState)(!1),ie=(0,o.Z)(re,2),oe=ie[0],ce=ie[1];(0,c.useEffect)((function(){if(oe){var e=setTimeout((function(){ce(!1)}),3e3);return function(){return clearTimeout(e)}}}),[oe]);var le=(0,c.useState)(!1),ue=(0,o.Z)(le,2),de=ue[0],me=ue[1];(0,c.useEffect)((function(){if(de){var e=setTimeout((function(){me(!1)}),3e3);return function(){return clearTimeout(e)}}}),[de]);var fe=(0,c.useState)(!1),xe=(0,o.Z)(fe,2),he=xe[0],pe=xe[1];(0,c.useEffect)((function(){if(he){var e=setTimeout((function(){pe(!1)}),3e3);return function(){return clearTimeout(e)}}}),[he]);var ve=(0,c.useState)(!1),Ze=(0,o.Z)(ve,2),je=Ze[0],ge=Ze[1];return(0,c.useEffect)((function(){if(je){var e=setTimeout((function(){ge(!1)}),3e3);return function(){return clearTimeout(e)}}}),[je]),(0,S.jsxs)(x.Z,{theme:V,children:[(0,S.jsxs)(y.ZP,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,S.jsx)(u.ZP,{}),(0,S.jsx)(y.ZP,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),(0,S.jsx)(y.ZP,{item:!0,xs:12,sm:8,md:5,component:d.Z,elevation:6,square:!0,children:(0,S.jsxs)(w.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:14},children:[(0,S.jsx)(C.Z,{variant:"h5",component:"h2",sx:{mt:2},children:"Register your Company"}),(0,S.jsxs)(w.Z,{component:"form",noValidate:!0,onSubmit:function(e){e.preventDefault()},sx:{mt:1},children:[(0,S.jsxs)(w.Z,{sx:{display:"flex",alignItems:"flex-end",mt:1,mb:3},children:[(0,S.jsx)(v.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,S.jsx)(b.Z,{id:"input-name",label:"Enter Company Name",variant:"standard",type:"text",name:"name",value:t,onChange:function(e){return f(e.target.value)},onFocus:te,placeholder:"Enter Company Name",sx:{width:"100%"}})]}),ee.name&&(0,S.jsx)("div",{className:"text-danger",children:ee.name}),(0,S.jsxs)(w.Z,{sx:{display:"flex",alignItems:"flex-end",mt:1,mb:3},children:[(0,S.jsx)(g.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,S.jsx)(b.Z,{id:"input-email",label:"Enter Company Email",variant:"standard",type:"email",name:"email",value:q,onChange:function(e){return F(e.target.value)},onFocus:te,placeholder:"Enter Company Email",sx:{width:"100%"}})]}),ee.email&&(0,S.jsx)("div",{className:"text-danger",children:ee.email}),(0,S.jsxs)(w.Z,{sx:{display:"flex",alignItems:"flex-end",mt:1,mb:3},children:[(0,S.jsx)(j.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,S.jsx)(b.Z,{id:"input-password",label:"Enter Password",variant:"standard",name:"password",type:D?"text":"password",value:T,onChange:function(e){return I(e.target.value)},onFocus:te,placeholder:"Enter Password",InputProps:{endAdornment:(0,S.jsx)(k.Z,{position:"end",children:(0,S.jsx)(z.Z,{onClick:function(){return U(!D)},edge:"end",children:D?(0,S.jsx)(p.Z,{}):(0,S.jsx)(h.Z,{})})})},sx:{width:"100%"}})]}),ee.password&&(0,S.jsx)("div",{className:"text-danger",children:ee.password}),(0,S.jsxs)(w.Z,{sx:{display:"flex",alignItems:"flex-end",mt:1,mb:3},children:[(0,S.jsx)(Z.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,S.jsx)(b.Z,{id:"input-confirmPassword",label:"Confirm Password",variant:"standard",name:"confirmpass",type:G?"text":"password",value:R,onChange:function(e){return A(e.target.value)},onFocus:te,placeholder:"Please Confirm Password",InputProps:{endAdornment:(0,S.jsx)(k.Z,{position:"end",children:(0,S.jsx)(z.Z,{onClick:function(){return K(!G)},edge:"end",children:G?(0,S.jsx)(p.Z,{}):(0,S.jsx)(h.Z,{})})})},sx:{width:"100%"}})]}),ee.confirmpass&&(0,S.jsx)("div",{className:"text-danger",children:ee.confirmpass}),(0,S.jsx)(w.Z,{sx:{mt:2},children:(0,S.jsx)(P.Z,{id:"register",variant:"contained",onClick:function(){return ae.apply(this,arguments)},fullWidth:!0,children:"Sign Up"})}),(0,S.jsx)(y.ZP,{container:!0,children:(0,S.jsx)(y.ZP,{item:!0,xs:!0,children:(0,S.jsx)(w.Z,{sx:{mt:2},children:(0,S.jsxs)(C.Z,{variant:"body2",color:"text.secondary",children:["Already have an account? \xa0",(0,S.jsx)("a",{href:"/login",className:"link-primary",children:"Login"})]})})})})]})]})})]}),oe&&(0,S.jsx)(m.Z,{onClose:function(){ce(!1)},severity:"error",style:se,children:"Failed to Register Company"}),de&&(0,S.jsx)(m.Z,{onClose:function(){me(!1)},severity:"success",style:se,children:"Company Registered Successfully"}),he&&(0,S.jsx)(m.Z,{onClose:function(){pe(!1)},severity:"success",style:se,children:"Company Email already exists"}),je&&(0,S.jsx)(m.Z,{onClose:function(){ge(!1)},severity:"warning",style:se,children:"Invalid Email"})]})}},85901:function(e,n,t){var s=t(64836);n.Z=void 0;var a=s(t(45649)),r=t(80184),i=(0,a.default)((0,r.jsx)("path",{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"}),"Business");n.Z=i},65242:function(e,n,t){var s=t(64836);n.Z=void 0;var a=s(t(45649)),r=t(80184),i=(0,a.default)((0,r.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Https");n.Z=i},75335:function(e,n,t){var s=t(64836);n.Z=void 0;var a=s(t(45649)),r=t(80184),i=(0,a.default)((0,r.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Mail");n.Z=i},79930:function(e,n,t){var s=t(64836);n.Z=void 0;var a=s(t(45649)),r=t(80184),i=(0,a.default)((0,r.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"}),"VerifiedUser");n.Z=i}}]);
//# sourceMappingURL=4009.deafa0a8.chunk.js.map